---
  const jobs = [
    { id: 'dataMinePurdue', company: 'The Data Mine', role: 'Undergraduate Data Science Researcher', period: 'Aug 2023 - May 2024', description: 'Collaborated with Molecular Stethoscope to analyze and develop cf-mRNA based diagnostics. Focused on evaluating dataset robustness and developing synthetic datasets for broader applicability.', location: 'West Lafayette, Indiana, United States 路 Remote' },
    { id: 'iAppSecure', company: 'iAppSecure Solutions', role: 'Data Science Intern', period: 'May 2023 - Aug 2023', description: 'Enhanced client experience on the dashboard portal by developing data visualizations with ChartJS and performing data extraction from PDFs using Tabula, converting data to TSV format for analysis.', location: 'Ahmedabad, Gujarat, India 路 On-site' },
    { id: 'mlClubASU', company: 'Machine Learning Club', role: 'Technical Officer', period: 'May 2023 - May 2024', description: 'Developed and delivered presentations to elucidate machine learning concepts and techniques, enhancing educational outreach and understanding within the club.', location: 'Education' },
    { id: 'devilDataScience', company: 'Devil Data Science', role: 'Vice President', period: 'May 2023 - May 2024', description: 'Led the organization and execution of data science events, focusing on promoting essential skills such as Data Visualization, Cleaning, and Communication.', location: 'Education' }
  ];
---

<div data-aos="fade-up" class="flex flex-col items-center justify-center py-24 space-y-12 bg-primary dark:bg-dark-primary">
  <section class="flex flex-col items-center w-full px-3">
    <span class="text-secondary dark:text-dark-secondary opacity-85 font-bold tracking-wider text-lg md:text-2xl">Work Experience:</span>
    <div class="bg-secondary dark:bg-dark-secondary h-[0.2px] w-full"></div>
  </section>
  <section class="flex md:flex-col items-center md:space-x-4 space-y-4 md:space-y-0 justify-start items-start w-full">
    <div id="WhereIhaveWorkedSection" class="flex flex-col md:flex-row w-full lg:w-auto overflow-auto px-3">
        {jobs.map(job => (
            <button
              key={job.id}
              class="bg-light-button-bg dark:bg-dark-button-bg hover:bg-light-button-hover dark:hover:bg-dark-button-hover text-button-text dark:text-dark-button-text rounded px-4 py-2 m-2 border border-gray-300 dark:border-gray-700 w-full text-left flex flex-col space-y-1"
              data-key={job.id}
            >
              <span class="font-semibold">{job.company}</span>
              <span class="text-sm opacity-75">{job.role}</span>
              <span class="text-xs opacity-50">{job.period}</span>
            </button>
          ))}
    </div>
    <div class="flex flex-col space-y-8 max-w-xl px-3" id="jobDetails">
      <!-- Job details injected by script -->
    </div>
  </section>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const jobs = [
    { id: 'dataMinePurdue', company: 'The Data Mine', role: 'Data Science Researcher', period: 'Aug 2023 - May 2024', description: 'Collaborated with Molecular Stethoscope to analyze and develop cf-mRNA based diagnostics. Focused on evaluating dataset robustness and developing synthetic datasets for broader applicability.', location: 'West Lafayette, Indiana, United States 路 Remote' },
    { id: 'iAppSecure', company: 'iAppSecure Solutions', role: 'Data Science Intern', period: 'May 2023 - Aug 2023', description: 'Enhanced client experience on the dashboard portal by developing data visualizations with ChartJS and performing data extraction from PDFs using Tabula, converting data to TSV format for analysis.', location: 'Ahmedabad, Gujarat, India 路 On-site' },
    { id: 'mlClubASU', company: 'Machine Learning Club', role: 'Technical Officer', period: 'May 2023 - May 2024', description: 'Developed and delivered presentations to explain machine learning concepts and techniques, enhancing educational outreach and understanding within the club.', location: 'Education' },
    { id: 'devilDataScience', company: 'Devil Data Science', role: 'Vice President', period: 'May 2023 - May 2024', description: 'Led the organization and execution of data science events, focusing on promoting essential skills such as Data Visualization, Cleaning, and Communication.', location: 'Education' }
  ];

  const jobButtons = document.querySelectorAll('#WhereIhaveWorkedSection button');
  const jobDetails = document.getElementById('jobDetails');

  // Function to update job details
  function updateJobDetails(job) {
    if (job) {
      jobDetails.innerHTML = `
        <div>
          <h3 class="text-lg font-bold">${job.role} @ ${job.company}</h3>
          <p class="text-sm">${job.period}</p>
          <p class="text-sm">${job.description}</p>
        </div>
      `;
    } else {
      jobDetails.innerHTML = '<div>No jobs listed at the moment.</div>';
    }
  }

  // Load first job details or show a placeholder
  updateJobDetails(jobs.length > 0 ? jobs[0] : null);

  // Add event listeners to job buttons
  jobButtons.forEach(button => {
    button.addEventListener('click', () => {
      const jobKey = button.getAttribute('data-key');
      const job = jobs.find(j => j.id === jobKey);
      updateJobDetails(job);
    });
  });
});
</script>

<style>
    .button-text {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .font-semibold {
      margin-bottom: 4px;
    }
    .text-sm {
      margin-bottom: 2px;
    }
  </style>
  
